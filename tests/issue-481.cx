package main

func main() {
	var i [3][2]i32

	var arr1 [2]i32
	var arr2 [2]i32
	var arr3 [2]i32
	arr1 = [2]i32{1, 2}
	arr2 = [2]i32{30, 40}
	arr3 = [2]i32{500, 600}

	i = [3][2]i32{
		arr1, arr2, arr3}

	// Testing lengths.
	test(len(i), 3, "")
	test(len(i[0]), 2, "")
	test(len(i[1]), 2, "")
	
	// Testing values.
	test(i[0][0], 1, "")
	test(i[0][1], 2, "")
	test(i[1][0], 30, "")
	test(i[1][1], 40, "")
	test(i[2][0], 500, "")
	test(i[2][1], 600, "")

	i = [3][2]i32{
		[2]i32{10, 20},
		[2]i32{300, 400},
		[2]i32{5000, 6000}}

	test(i[0][0], 10, "")
	test(i[0][1], 20, "")
	test(i[1][0], 300, "")
	test(i[1][1], 400, "")
	test(i[2][0], 5000, "")
	test(i[2][1], 6000, "")

	var j [5][4][3][2]str
	// j = [5][4][3][2]str{[4][3][2]str{[3][2]str{[2]str{0, 1}}}}

	for a := 0; a < len(j); a++ {
		for b := 0; b < len(j[0]); b++ {
			for c := 0; c < len(j[0][0]); c++ {
				for d := 0; d < len(j[0][0][0]); d++ {
					j[a][b][c][d] = sprintf("idxs: [%d][%d][%d][%d]", a, b, c, d)
				}
			}
		}
	}

	test(j[4][2][1][0], "idxs: [4][2][1][0]", "")
	test(j[3][0][1][0], "idxs: [3][0][1][0]", "")
	test(j[1][1][2][1], "idxs: [1][1][2][1]", "")

	var k [4][3][2]i32

	k = [4][3][2]i32{
		[3][2]i32{[2]i32{0,1}, [2]i32{2,3}, [2]i32{4,5}},
		[3][2]i32{[2]i32{6,7}, [2]i32{8,9}, [2]i32{10,11}},
		[3][2]i32{[2]i32{12,13}, [2]i32{14,15}, [2]i32{16,17}},
		[3][2]i32{[2]i32{18,19}, [2]i32{20,21}, [2]i32{22,23}}}

	var c i32
	for x := 0; x < 4; x++ {
		for y := 0; y < 3; y++ {
			for z := 0; z < 2; z++ {
				test(k[x][y][z], c, "")
				c++
			}
		}
	}
}
